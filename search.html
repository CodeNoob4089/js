<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="main.js" defer></script>
    <link rel="stylesheet" href="search.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
    />
    <script
      src="https://kit.fontawesome.com/97df680082.js"
      crossorigin="anonymous"
    ></script>
    <link
      rel="icon"
      type="image/png"
      href="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Eo_circle_pink_letter-m.svg/1200px-Eo_circle_pink_letter-m.svg.png"
    />
    <title>Search-Page</title>
  </head>

  <body>
    <div class="backBtn">
      <a href="index.html">
        <i class="fa-sharp fa-solid fa-house" style="color: #d5207a"></i>
      </a>
    </div>
    <div class="backSky">
      <svg class="sky"></svg>
      <div class="search">
        <form class="search-box" onsubmit="return false;">
          <input
            class="search-txt"
            type="text"
            id="searchInput"
            placeholder="영화 제목 검색"
          />
          <button class="search-btn" onclick="filter()" style="cursor: pointer">
            <i class="fas fa-search fa-2x"></i>
          </button>
        </form>
      </div>
      <div id="movieContainer" class="card-container"></div>
    </div>
    <footer>
      <div class="inner">
        <div class="footer-copyright">
          Copyright 2023. The Movie. All rights reserved.
        </div>
      </div>
    </footer>
    <script>
      const movieContainer = document.querySelector("#movieContainer");
      movieContainer.setAttribute("style", "display :none");

      const button = document.querySelector(".search-btn");
      button.addEventListener("click", function () {
        if (document.querySelector("input").value) {
          movieContainer.setAttribute("style", "display : flex");
          let searchItem = document.querySelector(".search");
          searchItem.setAttribute("style", "height :400px;");
        } else {
          alert("검색어를 두글자 이상 입력하세요!");
        }
      });

      const sky = document.querySelector(".sky");

      // 브라우저 창 크기에 따른 별 생성
      window.onresize = () => {
        makeStars();
      };

      const makeStars = () => {
        // 브라우저 가장 큰 크기
        const maxSize = Math.max(window.innerWidth, window.innerHeight);

        // 랜덤한 X 위치 값
        const getRandomX = () => Math.random() * maxSize;

        // 랜덤한 Y 위치 값
        const getRandomY = () => Math.random() * maxSize;

        // 랜덤한 크기 (circle는 반지름이 크기)
        const randomRadius = () => Math.random() * 0.7 + 0.6;

        // 임의의 값
        const _size = Math.floor(maxSize / 2);

        const htmlDummy = new Array(_size)
          .fill()
          .map((_, i) => {
            return `<circle class='star'
        cx=${getRandomX()}
        cy=${getRandomY()}
        r=${randomRadius()}
        className="star" />`;
          })
          .join("");

        sky.innerHTML = htmlDummy;
      };

      window.onload = () => {
        makeStars();
      };
    </script>
  </body>
</html>
